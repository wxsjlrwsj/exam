import{r as b,k as q,a as ee,q as xe,c as h,b as t,w as a,e as u,u as Ae,i as Ve,o as p,d as s,n as x,p as P,j as c,f as E,aa as Ne,K as Pe,t as o,F as B,P as D,a7 as Fe,V as $e,y as je}from"./index-DOcvSAvK.js";import{_ as Ue}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ee={class:"score-management-container"},Le={class:"grading-pane"},Re={class:"page-header"},Ge={class:"header-actions"},ze={class:"exam-info"},Me={class:"info-item"},Oe={class:"value"},Be={class:"info-item"},De={class:"value"},Ye={class:"info-item"},He={class:"value"},Ke={class:"info-item"},Qe={class:"value"},Je={class:"info-item"},We={class:"value"},Xe={class:"info-item"},Ze={class:"value"},qe={class:"info-item"},es={class:"value"},ss={key:1,class:"grading-content"},ts={class:"card-header"},as={class:"paper-content"},ls={class:"question-header"},ns={class:"question-title"},os={class:"question-number"},ds={class:"question-type"},rs={class:"question-score"},is={class:"student-answer"},us=["innerHTML"],cs={key:0,class:"correct-answer"},ms=["innerHTML"],ps={key:1,class:"grading-area"},vs={class:"score-input"},fs={class:"max-score"},_s={class:"comment-input"},gs={key:2,class:"auto-graded"},bs={class:"card-header"},ws={class:"student-list"},hs={class:"grading-actions"},ys={key:2,class:"grading-summary"},ks={class:"results-pane"},Ss={class:"page-header"},Cs={class:"filter-container"},Is={key:0,class:"results-content"},Ts={class:"card-header"},xs={class:"exam-info"},As={class:"info-item"},Vs={class:"value"},Ns={class:"info-item"},Ps={class:"value"},Fs={class:"info-item"},$s={class:"value"},js={class:"info-item"},Us={class:"value"},Es={class:"info-item"},Ls={class:"value"},Rs={class:"info-item"},Gs={class:"value"},zs={class:"info-item"},Ms={class:"value"},Os={class:"info-item"},Bs={class:"value"},Ds={class:"charts-container"},Ys={class:"pagination-container"},Hs={key:1,class:"no-exam-selected"},Ks={class:"dialog-footer"},Qs={__name:"ScoreManagement",setup(Js){Ae();const y=Ve("showMessage"),Y=b("grading"),k=b({id:1,name:"计算机网络期末考试",subject:"计算机网络",examTime:"2023-10-20 14:00-16:00",duration:120,totalScore:100,studentCount:30,gradedCount:18}),S=b(!1),f=b([{id:"2023001",name:"张三",status:"graded",score:85,submitTime:"2023-10-20 15:45:22",gradingTime:"2023-10-21 10:30:15"},{id:"2023002",name:"李四",status:"graded",score:92,submitTime:"2023-10-20 15:50:36",gradingTime:"2023-10-21 11:15:42"},{id:"2023003",name:"王五",status:"ungraded",score:null,submitTime:"2023-10-20 15:55:18",gradingTime:null},{id:"2023004",name:"赵六",status:"ungraded",score:null,submitTime:"2023-10-20 15:58:47",gradingTime:null},{id:"2023005",name:"钱七",status:"graded",score:78,submitTime:"2023-10-20 15:59:59",gradingTime:"2023-10-21 14:20:33"}]),w=b({}),F=b(""),se=q(()=>F.value?f.value.filter(l=>l.status===F.value):f.value),te=q(()=>f.value.findIndex(e=>e.id===w.value.id)<f.value.length-1),H=b([{id:1,type:"single",content:"TCP/IP协议中，以下哪个协议工作在传输层？",options:[{label:"A",content:"HTTP"},{label:"B",content:"IP"},{label:"C",content:"TCP"},{label:"D",content:"ARP"}],correctAnswer:"C",studentAnswer:"C",score:2,givenScore:2,autoGraded:!0,comment:""},{id:2,type:"multiple",content:"以下哪些是数据链路层的功能？",options:[{label:"A",content:"差错控制"},{label:"B",content:"流量控制"},{label:"C",content:"路由选择"},{label:"D",content:"拥塞控制"}],correctAnswer:["A","B"],studentAnswer:["A","B","D"],score:4,givenScore:2,autoGraded:!0,comment:""},{id:3,type:"fill",content:"HTTP协议默认使用的端口号是_____。",correctAnswer:"80",studentAnswer:"80",score:2,givenScore:2,autoGraded:!0,comment:""},{id:4,type:"short",content:"简述TCP三次握手的过程。",correctAnswer:"TCP三次握手过程：1. 客户端发送SYN包到服务器，进入SYN_SENT状态；2. 服务器收到SYN包，回应SYN+ACK包，进入SYN_RECV状态；3. 客户端收到SYN+ACK包，回应ACK包，双方进入ESTABLISHED状态。",studentAnswer:"TCP三次握手：客户端先发SYN，服务器回复SYN+ACK，客户端再发ACK，然后连接建立。这样可以确保双方都有收发能力。",score:10,givenScore:8,autoGraded:!1,comment:"描述基本正确，但缺少状态变化的说明"},{id:5,type:"essay",content:"论述计算机网络分层体系结构的意义，并比较OSI参考模型和TCP/IP模型的异同。",correctAnswer:"计算机网络分层体系结构的意义在于...(标准答案)",studentAnswer:`计算机网络分层的主要意义是将复杂的网络通信过程分解为若干个相对独立的部分，每层只需关注自己的功能，通过接口与相邻层交互。这样有利于标准化、模块化设计，便于实现和维护。

OSI参考模型分为7层：物理层、数据链路层、网络层、传输层、会话层、表示层和应用层。而TCP/IP模型分为4层：网络接口层、网络层、传输层和应用层。

相同点：两者都采用了分层的思想；都有网络层和传输层，功能相似。

不同点：OSI是理论上的标准，TCP/IP是事实上的标准；OSI分7层，TCP/IP分4层；OSI先有模型后有协议，TCP/IP先有协议后有模型；TCP/IP模型更实用。`,score:20,givenScore:16,autoGraded:!1,comment:"论述比较全面，但对OSI各层功能的描述不够详细，对两种模型的比较可以更加深入"}]),ae=l=>({single:"单选题",multiple:"多选题",fill:"填空题",judge:"判断题",short:"简答题",essay:"论述题",calculation:"计算题",programming:"程序题"})[l]||"未知类型",le=l=>{switch(l.type){case"single":const e=l.options.find(r=>r.label===l.studentAnswer);return`${l.studentAnswer}: ${e?e.content:""}`;case"multiple":return l.studentAnswer.map(r=>{const d=l.options.find(i=>i.label===r);return`${r}: ${d?d.content:""}`}).join("<br>");case"fill":return l.studentAnswer;case"judge":return l.studentAnswer?"正确":"错误";case"short":case"essay":case"calculation":case"programming":return l.studentAnswer.replace(/\n/g,"<br>");default:return l.studentAnswer}},ne=l=>{switch(l.type){case"single":const e=l.options.find(r=>r.label===l.correctAnswer);return`${l.correctAnswer}: ${e?e.content:""}`;case"multiple":return l.correctAnswer.map(r=>{const d=l.options.find(i=>i.label===r);return`${r}: ${d?d.content:""}`}).join("<br>");case"fill":return l.correctAnswer;case"judge":return l.correctAnswer?"正确":"错误";default:return l.correctAnswer}},oe=()=>{S.value=!0;const l=f.value.find(e=>e.status==="ungraded");l?w.value=l:w.value=f.value[0]},de=()=>{S.value=!1,y("批阅已完成","success")},re=l=>{w.value=l,y(`已加载${l.name}的答卷`,"success")},ie=()=>{const l=H.value.reduce((r,d)=>r+d.givenScore,0),e=f.value.findIndex(r=>r.id===w.value.id);e!==-1&&(f.value[e].status="graded",f.value[e].score=l,f.value[e].gradingTime=new Date().toLocaleString()),k.value.gradedCount=f.value.filter(r=>r.status==="graded").length,y("批阅已保存","success")},ue=()=>{const l=f.value.findIndex(e=>e.id===w.value.id);l<f.value.length-1&&(w.value=f.value[l+1],y(`已加载${w.value.name}的答卷`,"success"))},ce=l=>{w.value=l,S.value=!0},me=l=>{w.value=l,S.value=!0},A=b(1),$=b(10),L=b(0),_=ee({examId:"",classId:"",keyword:""}),R=b([{id:1,name:"计算机网络期末考试"},{id:2,name:"Java程序设计期中考试"},{id:3,name:"数据结构期末考试"}]),K=b([{id:1,name:"计科1班"},{id:2,name:"计科2班"},{id:3,name:"软工1班"},{id:4,name:"软工2班"}]),g=b({}),V=b([]),v=ee({visible:!1,form:{studentId:"",name:"",originalScore:0,newScore:0,reason:""}}),pe={id:1,name:"计算机网络期末考试",subject:"计算机网络",examTime:"2023-10-20 14:00-16:00",totalScore:100,studentCount:120,averageScore:78.5,highestScore:98,lowestScore:45,passRate:85.2},ve=[{studentId:"2023001",name:"张三",className:"计科1班",score:92,rank:1,submitTime:"2023-10-20 15:45:22",status:"normal"},{studentId:"2023002",name:"李四",className:"计科1班",score:88,rank:3,submitTime:"2023-10-20 15:50:36",status:"normal"},{studentId:"2023003",name:"王五",className:"计科2班",score:76,rank:8,submitTime:"2023-10-20 15:55:18",status:"normal"},{studentId:"2023004",name:"赵六",className:"软工1班",score:90,rank:2,submitTime:"2023-10-20 15:58:47",status:"normal"},{studentId:"2023005",name:"钱七",className:"软工2班",score:85,rank:4,submitTime:"2023-10-20 15:59:59",status:"abnormal"},{studentId:"2023006",name:"孙八",className:"计科1班",score:72,rank:10,submitTime:"2023-10-20 15:48:33",status:"normal"},{studentId:"2023007",name:"周九",className:"计科2班",score:81,rank:5,submitTime:"2023-10-20 15:52:41",status:"normal"},{studentId:"2023008",name:"吴十",className:"软工1班",score:79,rank:6,submitTime:"2023-10-20 15:56:27",status:"normal"},{studentId:"2023009",name:"郑十一",className:"软工2班",score:65,rank:12,submitTime:"2023-10-20 15:57:38",status:"normal"},{studentId:"2023010",name:"王十二",className:"计科1班",score:77,rank:7,submitTime:"2023-10-20 15:59:12",status:"normal"}],fe=l=>l>=90?"score-excellent":l>=80?"score-good":l>=70?"score-medium":l>=60?"score-pass":"score-fail",j=()=>{setTimeout(()=>{if(_.examId){g.value={...pe};let l=[...ve];if(_.classId){const d=K.value.find(i=>i.id===_.classId)?.name;l=l.filter(i=>i.className===d)}if(_.keyword){const d=_.keyword.toLowerCase();l=l.filter(i=>i.studentId.toLowerCase().includes(d)||i.name.toLowerCase().includes(d))}L.value=l.length;const e=(A.value-1)*$.value,r=e+$.value;V.value=l.slice(e,r)}else g.value={},V.value=[],L.value=0},500)},Q=()=>{A.value=1,j()},_e=()=>{_.classId="",_.keyword="",Q()},ge=()=>{j()},be=()=>{A.value=1,j()},we=()=>{if(!g.value.id){y("请先选择一个考试","warning");return}y("成绩导出功能待实现","info")},he=l=>{y(`查看学生 ${l.name} 的成绩详情`,"info")},ye=l=>{v.form={studentId:l.studentId,name:l.name,originalScore:l.score,newScore:l.score,reason:""},v.visible=!0},ke=()=>{if(!v.form.reason){y("请输入调整原因","warning");return}setTimeout(()=>{const l=V.value.findIndex(e=>e.studentId===v.form.studentId);l!==-1&&(V.value[l].score=v.form.newScore),y("分数调整成功","success"),v.visible=!1},500)};return xe(()=>{R.value.length>0&&(_.examId=R.value[0].id,j())}),(l,e)=>{const r=u("el-icon"),d=u("el-button"),i=u("el-card"),I=u("el-tag"),J=u("el-input-number"),G=u("el-input"),U=u("el-col"),N=u("el-option"),z=u("el-select"),m=u("el-table-column"),M=u("el-table"),W=u("el-row"),X=u("el-tab-pane"),C=u("el-form-item"),Z=u("el-form"),Se=u("el-pagination"),Ce=u("el-empty"),Ie=u("el-tabs"),Te=u("el-dialog");return p(),h("div",Ee,[t(Ie,{modelValue:Y.value,"onUpdate:modelValue":e[6]||(e[6]=n=>Y.value=n),type:"border-card"},{default:a(()=>[t(X,{label:"阅卷管理",name:"grading"},{default:a(()=>[s("div",Le,[s("div",Re,[e[13]||(e[13]=s("h2",{class:"page-title"},"阅卷管理",-1)),s("div",Ge,[S.value?P("",!0):(p(),x(d,{key:0,type:"primary",onClick:oe},{default:a(()=>[t(r,null,{default:a(()=>[t(E(Ne))]),_:1}),e[11]||(e[11]=c("开始批阅 ",-1))]),_:1})),S.value?(p(),x(d,{key:1,type:"success",onClick:de},{default:a(()=>[t(r,null,{default:a(()=>[t(E(Pe))]),_:1}),e[12]||(e[12]=c("完成批阅 ",-1))]),_:1})):P("",!0)])]),S.value?P("",!0):(p(),x(i,{key:0,class:"exam-info-card"},{header:a(()=>[...e[14]||(e[14]=[s("div",{class:"card-header"},[s("span",null,"考试信息")],-1)])]),default:a(()=>[s("div",ze,[s("div",Me,[e[15]||(e[15]=s("span",{class:"label"},"考试名称：",-1)),s("span",Oe,o(k.value.name),1)]),s("div",Be,[e[16]||(e[16]=s("span",{class:"label"},"科目：",-1)),s("span",De,o(k.value.subject),1)]),s("div",Ye,[e[17]||(e[17]=s("span",{class:"label"},"考试时间：",-1)),s("span",He,o(k.value.examTime),1)]),s("div",Ke,[e[18]||(e[18]=s("span",{class:"label"},"考试时长：",-1)),s("span",Qe,o(k.value.duration)+"分钟",1)]),s("div",Je,[e[19]||(e[19]=s("span",{class:"label"},"总分：",-1)),s("span",We,o(k.value.totalScore)+"分",1)]),s("div",Xe,[e[20]||(e[20]=s("span",{class:"label"},"参考人数：",-1)),s("span",Ze,o(k.value.studentCount)+"人",1)]),s("div",qe,[e[21]||(e[21]=s("span",{class:"label"},"批阅进度：",-1)),s("span",es,o(k.value.gradedCount)+"/"+o(k.value.studentCount),1)])])]),_:1})),S.value?(p(),h("div",ss,[t(W,{gutter:20},{default:a(()=>[t(U,{span:16},{default:a(()=>[t(i,{class:"paper-card"},{header:a(()=>[s("div",ts,[e[22]||(e[22]=s("span",null,"试卷内容",-1)),s("div",null,[s("span",null,"学生："+o(w.value.name),1),t(I,{type:"info",style:{"margin-left":"10px"}},{default:a(()=>[c(o(w.value.id),1)]),_:1})])])]),default:a(()=>[s("div",as,[(p(!0),h(B,null,D(H.value,(n,T)=>(p(),h("div",{key:T,class:"question-item"},[s("div",ls,[s("div",ns,[s("span",os,o(T+1)+".",1),s("span",ds,"["+o(ae(n.type))+"]",1),s("span",null,o(n.content),1)]),s("div",rs,[s("span",null,o(n.score)+"分",1)])]),s("div",is,[e[23]||(e[23]=s("div",{class:"answer-label"},"学生答案：",-1)),s("div",{class:"answer-content",innerHTML:le(n)},null,8,us)]),n.type!=="essay"&&n.type!=="short"?(p(),h("div",cs,[e[24]||(e[24]=s("div",{class:"answer-label"},"正确答案：",-1)),s("div",{class:"answer-content",innerHTML:ne(n)},null,8,ms)])):P("",!0),n.autoGraded?(p(),h("div",gs,[t(I,{type:"success"},{default:a(()=>[c("系统已自动评分: "+o(n.givenScore)+"分",1)]),_:2},1024)])):(p(),h("div",ps,[s("div",vs,[e[25]||(e[25]=s("span",null,"评分：",-1)),t(J,{modelValue:n.givenScore,"onUpdate:modelValue":O=>n.givenScore=O,min:0,max:n.score,step:.5,size:"small"},null,8,["modelValue","onUpdate:modelValue","max"]),s("span",fs,"/ "+o(n.score)+"分",1)]),s("div",_s,[e[26]||(e[26]=s("span",null,"评语：",-1)),t(G,{modelValue:n.comment,"onUpdate:modelValue":O=>n.comment=O,type:"textarea",rows:2,placeholder:"请输入评语（可选）"},null,8,["modelValue","onUpdate:modelValue"])])]))]))),128))])]),_:1})]),_:1}),t(U,{span:8},{default:a(()=>[t(i,{class:"student-list-card"},{header:a(()=>[s("div",bs,[e[27]||(e[27]=s("span",null,"学生列表",-1)),t(z,{modelValue:F.value,"onUpdate:modelValue":e[0]||(e[0]=n=>F.value=n),placeholder:"筛选状态",size:"small"},{default:a(()=>[t(N,{label:"全部",value:""}),t(N,{label:"未批阅",value:"ungraded"}),t(N,{label:"已批阅",value:"graded"})]),_:1},8,["modelValue"])])]),default:a(()=>[s("div",ws,[t(M,{data:se.value,style:{width:"100%"},height:"calc(100vh - 350px)",onRowClick:re,"highlight-current-row":""},{default:a(()=>[t(m,{prop:"name",label:"姓名",width:"100"}),t(m,{prop:"id",label:"学号",width:"120"}),t(m,{prop:"status",label:"状态",width:"100"},{default:a(n=>[t(I,{type:n.row.status==="graded"?"success":"info"},{default:a(()=>[c(o(n.row.status==="graded"?"已批阅":"未批阅"),1)]),_:2},1032,["type"])]),_:1})]),_:1},8,["data"])]),s("div",hs,[t(d,{type:"primary",onClick:ie},{default:a(()=>[...e[28]||(e[28]=[c("保存当前",-1)])]),_:1}),t(d,{onClick:ue,disabled:!te.value},{default:a(()=>[...e[29]||(e[29]=[c("下一个",-1)])]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1})])):(p(),h("div",ys,[t(i,null,{header:a(()=>[...e[30]||(e[30]=[s("div",{class:"card-header"},[s("span",null,"批阅统计")],-1)])]),default:a(()=>[t(M,{data:f.value,border:"",style:{width:"100%"}},{default:a(()=>[t(m,{prop:"name",label:"姓名",width:"100"}),t(m,{prop:"id",label:"学号",width:"120"}),t(m,{prop:"score",label:"总分",width:"100"}),t(m,{prop:"status",label:"状态",width:"100"},{default:a(n=>[t(I,{type:n.row.status==="graded"?"success":"info"},{default:a(()=>[c(o(n.row.status==="graded"?"已批阅":"未批阅"),1)]),_:2},1032,["type"])]),_:1}),t(m,{prop:"submitTime",label:"提交时间",width:"180"}),t(m,{prop:"gradingTime",label:"批阅时间",width:"180"}),t(m,{label:"操作",width:"150"},{default:a(n=>[t(d,{link:"",type:"primary",onClick:T=>ce(n.row)},{default:a(()=>[...e[31]||(e[31]=[c("查看",-1)])]),_:1},8,["onClick"]),n.row.status==="graded"?(p(),x(d,{key:0,link:"",type:"primary",onClick:T=>me(n.row)},{default:a(()=>[...e[32]||(e[32]=[c("修改",-1)])]),_:1},8,["onClick"])):P("",!0)]),_:1})]),_:1},8,["data"])]),_:1})]))])]),_:1}),t(X,{label:"成绩统计",name:"results"},{default:a(()=>[s("div",ks,[s("div",Ss,[e[34]||(e[34]=s("h2",{class:"page-title"},"成绩统计",-1)),s("div",null,[t(d,{type:"primary",onClick:we},{default:a(()=>[t(r,null,{default:a(()=>[t(E(Fe))]),_:1}),e[33]||(e[33]=c("导出成绩 ",-1))]),_:1})])]),t(i,{class:"filter-card"},{default:a(()=>[s("div",Cs,[t(Z,{inline:!0,model:_,class:"filter-form"},{default:a(()=>[t(C,{label:"考试名称"},{default:a(()=>[t(z,{modelValue:_.examId,"onUpdate:modelValue":e[1]||(e[1]=n=>_.examId=n),placeholder:"选择考试",clearable:""},{default:a(()=>[(p(!0),h(B,null,D(R.value,n=>(p(),x(N,{key:n.id,label:n.name,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(C,{label:"班级"},{default:a(()=>[t(z,{modelValue:_.classId,"onUpdate:modelValue":e[2]||(e[2]=n=>_.classId=n),placeholder:"选择班级",clearable:""},{default:a(()=>[(p(!0),h(B,null,D(K.value,n=>(p(),x(N,{key:n.id,label:n.name,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(C,{label:"学号/姓名"},{default:a(()=>[t(G,{modelValue:_.keyword,"onUpdate:modelValue":e[3]||(e[3]=n=>_.keyword=n),placeholder:"输入学号或姓名",clearable:""},null,8,["modelValue"])]),_:1}),t(C,null,{default:a(()=>[t(d,{type:"primary",onClick:Q},{default:a(()=>[t(r,null,{default:a(()=>[t(E($e))]),_:1}),e[35]||(e[35]=c("搜索 ",-1))]),_:1}),t(d,{onClick:_e},{default:a(()=>[...e[36]||(e[36]=[c("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1}),g.value.id?(p(),h("div",Is,[t(i,{class:"exam-info-card"},{header:a(()=>[s("div",Ts,[s("span",null,o(g.value.name),1),t(I,{type:"success"},{default:a(()=>[...e[37]||(e[37]=[c("已完成",-1)])]),_:1})])]),default:a(()=>[s("div",xs,[s("div",As,[e[38]||(e[38]=s("span",{class:"label"},"考试科目：",-1)),s("span",Vs,o(g.value.subject),1)]),s("div",Ns,[e[39]||(e[39]=s("span",{class:"label"},"考试时间：",-1)),s("span",Ps,o(g.value.examTime),1)]),s("div",Fs,[e[40]||(e[40]=s("span",{class:"label"},"总分：",-1)),s("span",$s,o(g.value.totalScore)+"分",1)]),s("div",js,[e[41]||(e[41]=s("span",{class:"label"},"参考人数：",-1)),s("span",Us,o(g.value.studentCount)+"人",1)]),s("div",Es,[e[42]||(e[42]=s("span",{class:"label"},"平均分：",-1)),s("span",Ls,o(g.value.averageScore)+"分",1)]),s("div",Rs,[e[43]||(e[43]=s("span",{class:"label"},"最高分：",-1)),s("span",Gs,o(g.value.highestScore)+"分",1)]),s("div",zs,[e[44]||(e[44]=s("span",{class:"label"},"最低分：",-1)),s("span",Ms,o(g.value.lowestScore)+"分",1)]),s("div",Os,[e[45]||(e[45]=s("span",{class:"label"},"及格率：",-1)),s("span",Bs,o(g.value.passRate)+"%",1)])])]),_:1}),s("div",Ds,[t(W,{gutter:20},{default:a(()=>[t(U,{span:12},{default:a(()=>[t(i,{class:"chart-card"},{header:a(()=>[...e[46]||(e[46]=[s("div",{class:"card-header"},[s("span",null,"分数分布")],-1)])]),default:a(()=>[e[47]||(e[47]=s("div",{class:"chart-placeholder"},[s("div",{class:"chart-mock"},[s("div",{class:"chart-bar",style:{height:"30%","background-color":"#67C23A"}},[s("div",{class:"chart-label"},"90-100")]),s("div",{class:"chart-bar",style:{height:"60%","background-color":"#409EFF"}},[s("div",{class:"chart-label"},"80-89")]),s("div",{class:"chart-bar",style:{height:"80%","background-color":"#E6A23C"}},[s("div",{class:"chart-label"},"70-79")]),s("div",{class:"chart-bar",style:{height:"40%","background-color":"#F56C6C"}},[s("div",{class:"chart-label"},"60-69")]),s("div",{class:"chart-bar",style:{height:"20%","background-color":"#909399"}},[s("div",{class:"chart-label"},"0-59")])])],-1))]),_:1})]),_:1}),t(U,{span:12},{default:a(()=>[t(i,{class:"chart-card"},{header:a(()=>[...e[48]||(e[48]=[s("div",{class:"card-header"},[s("span",null,"班级平均分对比")],-1)])]),default:a(()=>[e[49]||(e[49]=s("div",{class:"chart-placeholder"},[s("div",{class:"chart-mock horizontal"},[s("div",{class:"chart-row"},[s("div",{class:"chart-label"},"计科1班"),s("div",{class:"chart-bar-h",style:{width:"85%","background-color":"#409EFF"}},"85")]),s("div",{class:"chart-row"},[s("div",{class:"chart-label"},"计科2班"),s("div",{class:"chart-bar-h",style:{width:"78%","background-color":"#409EFF"}},"78")]),s("div",{class:"chart-row"},[s("div",{class:"chart-label"},"软工1班"),s("div",{class:"chart-bar-h",style:{width:"82%","background-color":"#409EFF"}},"82")]),s("div",{class:"chart-row"},[s("div",{class:"chart-label"},"软工2班"),s("div",{class:"chart-bar-h",style:{width:"80%","background-color":"#409EFF"}},"80")])])],-1))]),_:1})]),_:1})]),_:1})]),t(i,{class:"results-table-card"},{header:a(()=>[...e[50]||(e[50]=[s("div",{class:"card-header"},[s("span",null,"成绩列表")],-1)])]),default:a(()=>[t(M,{data:V.value,border:"",style:{width:"100%"}},{default:a(()=>[t(m,{prop:"studentId",label:"学号",width:"120"}),t(m,{prop:"name",label:"姓名",width:"100"}),t(m,{prop:"className",label:"班级",width:"120"}),t(m,{prop:"score",label:"成绩",width:"100"},{default:a(n=>[s("span",{class:je(fe(n.row.score))},o(n.row.score),3)]),_:1}),t(m,{prop:"rank",label:"排名",width:"80"}),t(m,{prop:"submitTime",label:"提交时间",width:"180"}),t(m,{prop:"status",label:"状态",width:"100"},{default:a(n=>[t(I,{type:n.row.status==="normal"?"success":"danger"},{default:a(()=>[c(o(n.row.status==="normal"?"正常":"异常"),1)]),_:2},1032,["type"])]),_:1}),t(m,{label:"操作",width:"200"},{default:a(n=>[t(d,{link:"",type:"primary",onClick:T=>he(n.row)},{default:a(()=>[...e[51]||(e[51]=[c("查看详情",-1)])]),_:1},8,["onClick"]),t(d,{link:"",type:"primary",onClick:T=>ye(n.row)},{default:a(()=>[...e[52]||(e[52]=[c("调整分数",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"]),s("div",Ys,[t(Se,{"current-page":A.value,"onUpdate:currentPage":e[4]||(e[4]=n=>A.value=n),"page-size":$.value,"onUpdate:pageSize":e[5]||(e[5]=n=>$.value=n),"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:L.value,onSizeChange:be,onCurrentChange:ge},null,8,["current-page","page-size","total"])])]),_:1})])):(p(),h("div",Hs,[t(Ce,{description:"请选择一个考试查看成绩"})]))])]),_:1})]),_:1},8,["modelValue"]),t(Te,{modelValue:v.visible,"onUpdate:modelValue":e[10]||(e[10]=n=>v.visible=n),title:"调整分数",width:"500px"},{footer:a(()=>[s("span",Ks,[t(d,{onClick:e[9]||(e[9]=n=>v.visible=!1)},{default:a(()=>[...e[53]||(e[53]=[c("取消",-1)])]),_:1}),t(d,{type:"primary",onClick:ke},{default:a(()=>[...e[54]||(e[54]=[c("确认",-1)])]),_:1})])]),default:a(()=>[t(Z,{model:v.form,"label-width":"100px"},{default:a(()=>[t(C,{label:"学生"},{default:a(()=>[s("span",null,o(v.form.name)+" ("+o(v.form.studentId)+")",1)]),_:1}),t(C,{label:"原始分数"},{default:a(()=>[s("span",null,o(v.form.originalScore),1)]),_:1}),t(C,{label:"调整后分数"},{default:a(()=>[t(J,{modelValue:v.form.newScore,"onUpdate:modelValue":e[7]||(e[7]=n=>v.form.newScore=n),min:0,max:g.value.totalScore},null,8,["modelValue","max"])]),_:1}),t(C,{label:"调整原因"},{default:a(()=>[t(G,{modelValue:v.form.reason,"onUpdate:modelValue":e[8]||(e[8]=n=>v.form.reason=n),type:"textarea",rows:3,placeholder:"请输入调整原因"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},Zs=Ue(Qs,[["__scopeId","data-v-f958dc89"]]);export{Zs as default};
