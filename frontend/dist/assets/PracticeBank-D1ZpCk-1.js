import{r as p,a as G,q as H,c as T,d as w,b as t,$ as K,w as n,e as a,X as O,n as R,i as x,o as k,j as d,f as W,S as Y,F as Z,P as ee,t as te}from"./index-DOcvSAvK.js";import{_ as le}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ne={class:"question-bank-container"},oe={class:"page-header"},ae={class:"pagination-container"},ie={__name:"PracticeBank",setup(se){const f=x("showMessage"),z=x("showConfirm"),g=p(!1),c=p(1),_=p(10),h=p(0),m=p([]),C=[{label:"单选题",value:"single_choice"},{label:"多选题",value:"multiple_choice"},{label:"判断题",value:"true_false"},{label:"填空题",value:"fill_blank"},{label:"简答题",value:"short_answer"},{label:"编程题",value:"programming"}],i=G({type:"",keyword:""}),S=o=>{const e=C.find(r=>r.value===o);return e?e.label:"未知"},D=[{id:1,type:"single_choice",content:"Java中，下列哪个不是基本数据类型？",difficulty:2,createTime:"2023-09-15 10:30:45"},{id:2,type:"multiple_choice",content:"下列哪些是Java中的集合类？",difficulty:3,createTime:"2023-09-16 14:22:33"},{id:3,type:"true_false",content:"Java中，String类是final的。",difficulty:1,createTime:"2023-09-17 09:15:20"},{id:4,type:"fill_blank",content:"Java中，用于处理输入输出的包是_____。",difficulty:2,createTime:"2023-09-18 16:40:12"},{id:5,type:"short_answer",content:"简述Java中的多态性及其实现方式。",difficulty:4,createTime:"2023-09-19 11:25:36"}],v=()=>{g.value=!0,setTimeout(()=>{let o=[...D];i.type&&(o=o.filter(s=>s.type===i.type)),i.keyword&&(o=o.filter(s=>s.content.includes(i.keyword))),h.value=o.length;const e=(c.value-1)*_.value,r=e+_.value;m.value=o.slice(e,r),g.value=!1},500)},V=()=>{c.value=1,v()},$=()=>{i.type="",i.keyword="",V()},B=()=>{v()},P=()=>{c.value=1,v()},U=()=>{f("添加题目功能待实现","info")},I=o=>{f(`编辑题目ID: ${o.id}`,"info")},J=o=>{f(`预览题目ID: ${o.id}`,"info")},Q=o=>{z(`确定要删除题目"${o.content.substring(0,20)}..."吗？`,"删除确认","warning").then(()=>{setTimeout(()=>{const e=m.value.findIndex(r=>r.id===o.id);e!==-1&&m.value.splice(e,1),f("删除成功","success")},500)}).catch(()=>{})};return H(()=>{v()}),(o,e)=>{const r=a("el-icon"),s=a("el-button"),q=a("el-option"),F=a("el-select"),b=a("el-form-item"),L=a("el-input"),j=a("el-form"),M=a("el-card"),u=a("el-table-column"),N=a("el-rate"),E=a("el-table"),A=a("el-pagination"),X=O("loading");return k(),T("div",ne,[w("div",oe,[e[5]||(e[5]=w("h2",{class:"page-title"},"练题题库查看",-1)),t(s,{type:"primary",onClick:U},{default:n(()=>[t(r,null,{default:n(()=>[t(W(Y))]),_:1}),e[4]||(e[4]=d("添加题目 ",-1))]),_:1})]),t(M,{class:"filter-card"},{default:n(()=>[t(j,{inline:!0,model:i,class:"filter-form"},{default:n(()=>[t(b,{label:"题目类型"},{default:n(()=>[t(F,{modelValue:i.type,"onUpdate:modelValue":e[0]||(e[0]=l=>i.type=l),placeholder:"请选择题型",clearable:""},{default:n(()=>[(k(),T(Z,null,ee(C,l=>t(q,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(b,{label:"关键词"},{default:n(()=>[t(L,{modelValue:i.keyword,"onUpdate:modelValue":e[1]||(e[1]=l=>i.keyword=l),placeholder:"请输入关键词",clearable:""},null,8,["modelValue"])]),_:1}),t(b,null,{default:n(()=>[t(s,{type:"primary",onClick:V},{default:n(()=>[...e[6]||(e[6]=[d("查询",-1)])]),_:1}),t(s,{onClick:$},{default:n(()=>[...e[7]||(e[7]=[d("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),K((k(),R(E,{data:m.value,border:"",style:{width:"100%"}},{default:n(()=>[t(u,{prop:"id",label:"ID",width:"80"}),t(u,{prop:"type",label:"题型",width:"120"},{default:n(l=>[d(te(S(l.row.type)),1)]),_:1}),t(u,{prop:"content",label:"题目内容","show-overflow-tooltip":""}),t(u,{prop:"difficulty",label:"难度",width:"100"},{default:n(l=>[t(N,{modelValue:l.row.difficulty,"onUpdate:modelValue":y=>l.row.difficulty=y,disabled:"","text-color":"#ff9900"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(u,{prop:"createTime",label:"创建时间",width:"180"}),t(u,{label:"操作",width:"200",fixed:"right"},{default:n(l=>[t(s,{link:"",type:"primary",onClick:y=>I(l.row)},{default:n(()=>[...e[8]||(e[8]=[d("编辑",-1)])]),_:1},8,["onClick"]),t(s,{link:"",type:"primary",onClick:y=>J(l.row)},{default:n(()=>[...e[9]||(e[9]=[d("预览",-1)])]),_:1},8,["onClick"]),t(s,{link:"",type:"danger",onClick:y=>Q(l.row)},{default:n(()=>[...e[10]||(e[10]=[d("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[X,g.value]]),w("div",ae,[t(A,{"current-page":c.value,"onUpdate:currentPage":e[2]||(e[2]=l=>c.value=l),"page-size":_.value,"onUpdate:pageSize":e[3]||(e[3]=l=>_.value=l),"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:h.value,onSizeChange:P,onCurrentChange:B},null,8,["current-page","page-size","total"])])])}}},ue=le(ie,[["__scopeId","data-v-e560833e"]]);export{ue as default};
