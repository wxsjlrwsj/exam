import{i as j}from"./http-CJ7Q9mKW.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as u,a as $,q as h,c as C,d as y,b as t,$ as Q,w as a,e as o,X as R,n as G,i as H,o as w,F as O,P as X,j as c,t as J}from"./index-DOcvSAvK.js";import"./index-ngrFHoWO.js";const K={class:"question-bank-container"},W={class:"pagination-container"},Y={__name:"PracticeBank",setup(Z){const V=H("showMessage"),_=u(!1),i=u(1),m=u(10),f=u(0),v=u([]),L=[{label:"单选题",value:"SINGLE"},{label:"多选题",value:"MULTI"},{label:"判断题",value:"TRUE_FALSE"},{label:"填空题",value:"FILL"},{label:"简答题",value:"SHORT"}],n=$({type:"",keyword:""}),z={1:"单选题",2:"多选题",3:"判断题",4:"填空题",5:"简答题"},I=s=>z[s]||"未知",d=async()=>{_.value=!0;try{const e=(await j.get("/api/questions",{params:{page:i.value,size:m.value,typeCode:n.type||void 0,keyword:n.keyword||void 0}}))?.data||{},p=Array.isArray(e.list)?e.list:[];v.value=p,f.value=Number(e.total)||p.length}catch{v.value=[],f.value=0}finally{_.value=!1}},S=()=>{i.value=1,d()},U=()=>{d()},x=()=>{i.value=1,d()};h(()=>{d()});const T=s=>{V(`开始练习题目ID: ${s.id}`,"info")};return h(()=>{d()}),(s,e)=>{const p=o("el-option"),B=o("el-select"),b=o("el-form-item"),F=o("el-input"),g=o("el-button"),P=o("el-form"),q=o("el-card"),r=o("el-table-column"),D=o("el-rate"),M=o("el-table"),N=o("el-pagination"),E=R("loading");return w(),C("div",K,[e[7]||(e[7]=y("div",{class:"page-header"},[y("h2",{class:"page-title"},"练习题库")],-1)),t(q,{class:"filter-card"},{default:a(()=>[t(P,{inline:!0,model:n,class:"filter-form"},{default:a(()=>[t(b,{label:"题目类型"},{default:a(()=>[t(B,{modelValue:n.type,"onUpdate:modelValue":e[0]||(e[0]=l=>n.type=l),placeholder:"请选择题型",clearable:""},{default:a(()=>[(w(),C(O,null,X(L,l=>t(p,{key:l.value,label:l.label,value:l.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(b,{label:"关键词"},{default:a(()=>[t(F,{modelValue:n.keyword,"onUpdate:modelValue":e[1]||(e[1]=l=>n.keyword=l),placeholder:"请输入关键词",clearable:""},null,8,["modelValue"])]),_:1}),t(b,null,{default:a(()=>[t(g,{type:"primary",onClick:S},{default:a(()=>[...e[4]||(e[4]=[c("查询",-1)])]),_:1}),t(g,{onClick:s.resetFilter},{default:a(()=>[...e[5]||(e[5]=[c("重置",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"])]),_:1}),Q((w(),G(M,{data:v.value,border:"",style:{width:"100%"}},{default:a(()=>[t(r,{prop:"id",label:"ID",width:"80"}),t(r,{prop:"typeId",label:"题型",width:"120"},{default:a(l=>[c(J(I(l.row.typeId)),1)]),_:1}),t(r,{prop:"content",label:"题目内容","show-overflow-tooltip":""}),t(r,{prop:"difficulty",label:"难度",width:"100"},{default:a(l=>[t(D,{modelValue:l.row.difficulty,"onUpdate:modelValue":k=>l.row.difficulty=k,disabled:"","text-color":"#ff9900"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(r,{prop:"createTime",label:"创建时间",width:"180"}),t(r,{label:"操作",width:"120",fixed:"right"},{default:a(l=>[t(g,{link:"",type:"primary",onClick:k=>T(l.row)},{default:a(()=>[...e[6]||(e[6]=[c("开始练习",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[E,_.value]]),y("div",W,[t(N,{"current-page":i.value,"onUpdate:currentPage":e[2]||(e[2]=l=>i.value=l),"page-size":m.value,"onUpdate:pageSize":e[3]||(e[3]=l=>m.value=l),"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:f.value,onSizeChange:x,onCurrentChange:U},null,8,["current-page","page-size","total"])])])}}},oe=A(Y,[["__scopeId","data-v-703bbb77"]]);export{oe as default};
